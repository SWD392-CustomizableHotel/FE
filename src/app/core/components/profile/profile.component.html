<div class="profile-container p-fluid p-card">
  <div class="profile-left">
    <p-avatar image="C:\Ky 7\SWD\FE\src\assets\images\logo2.png" shape="circle" size="xlarge"></p-avatar>
    <div class="user-info">
      <h4>{{ user?.email }}</h4>
      <p>{{ user?.role }}</p>
    </div>
  </div>
  <div class="profile-right">
    <h2 class="p-card-title">My Profile</h2>

    <form [formGroup]="profileForm" (ngSubmit)="updateProfile()">
      <div class="p-grid">
        <div class="p-col-12 p-md-6">
          <div class="p-field">
            <label for="firstName">First Name</label>
            <input pInputText type="text" id="firstName" formControlName="firstName" />
          </div>
        </div>
        <div class="p-col-12 p-md-6">
          <div class="p-field">
            <label for="lastName">Last Name</label>
            <input pInputText type="text" id="lastName" formControlName="lastName" />
          </div>
        </div>
      </div>

      <div class="p-field">
        <label for="phoneNumber">Phone Number</label>
        <input pInputText type="text" id="phoneNumber" formControlName="phoneNumber" />
      </div>

      <div class="p-field">
        <label for="address">Address</label>
        <input pInputText type="text" id="address" formControlName="address" />
      </div>

      <div class="p-field">
        <label for="dob">Date of Birth</label>
        <input pInputText type="date" id="dob" formControlName="dob" />
      </div>

      <div class="p-field" *ngIf="user?.role === 'STAFF'">
        <label for="certificate">Certificate</label>
        <p-fileUpload
          name="certificate"
          customUpload="true"
          (uploadHandler)="onUpload($event)"
          [auto]="true"
          chooseLabel="Choose"
          uploadLabel="Upload"
          cancelLabel="Cancel"
          mode="basic"
          class="custom-file-upload">
        </p-fileUpload>
      </div>

      <div class="p-field" style="display: none;">
        <input pInputText type="text" formControlName="email" />
      </div>

      <div class="p-d-flex p-jc-end p-mt-3">
        <button pButton type="button" label="Edit" icon="pi pi-pencil" (click)="enableEditing()" *ngIf="!editable" class="p-button-text p-mr-2"> </button>
        <button pButton type="submit" label="Save" icon="pi pi-check" *ngIf="editable" class="p-button-primary p-mr-2"> </button>
        <button pButton type="button" label="Cancel" icon="pi pi-times" (click)="disableEditing()" *ngIf="editable" class="p-button-secondary"> </button>
      </div>
    </form>
  </div>
</div>

<p-toast></p-toast>